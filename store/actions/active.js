import axios from 'axios'
import { iexCloudUrl,apiKey } from '../../config'

export const GET_MOSTACTIVE = 'GET_MOSTACTIVE'


// a function is to be returned that makes a  call to the api and dispatches an action into redux store
export const getMostActive = () => { 
    return async dispatch => {
        try{
           // let response = await axios.get(`${iexCloudUrl}/stock/market/collection/list?collectionName=mostactive&token=${apiKey}`)
           let response = {status: 'OK' , data: initialArray}
           if(!response.status ==='OK')
            {

            }
            dispatch({type: GET_MOSTACTIVE, payload: response.data})
        }
        catch(err)
        {
            console.log(err)
        }
    }
}


const initialArray = [
    {
        "avgTotalVolume": 59526811,
        "calculationPrice": "tops",
        "change": -0.175,
        "changePercent": -0.00254,
        "close": null,
        "closeSource": "official",
        "closeTime": null,
        "companyName": "Advanced Micro Devices, Inc.",
        "delayedPrice": null,
        "delayedPriceTime": null,
        "extendedChange": null,
        "extendedChangePercent": null,
        "extendedPrice": null,
        "extendedPriceTime": null,
        "high": null,
        "highSource": "15 minute delayed price",
        "highTime": 1595955363942,
        "iexAskPrice": 70,
        "iexAskSize": 100,
        "iexBidPrice": 68.77,
        "iexBidSize": 100,
        "iexClose": 68.795,
        "iexCloseTime": 1595956254665,
        "iexLastUpdated": 1595956254665,
        "iexMarketPercent": 0.006619892378703797,
        "iexOpen": null,
        "iexOpenTime": null,
        "iexRealtimePrice": 68.795,
        "iexRealtimeSize": 36,
        "iexVolume": 342396,
        "isUSMarketOpen": true,
        "lastTradeTime": 1595956254665,
        "latestPrice": 68.795,
        "latestSource": "IEX real time price",
        "latestTime": "1:10:54 PM",
        "latestUpdate": 1595956254665,
        "latestVolume": null,
        "low": null,
        "lowSource": "15 minute delayed price",
        "lowTime": 1595943496596,
        "marketCap": 80572016050,
        "oddLotDelayedPrice": null,
        "oddLotDelayedPriceTime": null,
        "open": null,
        "openSource": "official",
        "openTime": null,
        "peRatio": 160.25,
        "previousClose": 68.97,
        "previousVolume": 107918075,
        "primaryExchange": "NASDAQ",
        "symbol": "AMD",
        "volume": null,
        "week52High": 71.63,
        "week52Low": 27.43,
        "ytdChange": 0.410902,
      },
       {
        "avgTotalVolume": 90324711,
        "calculationPrice": "tops",
        "change": 0.355,
        "changePercent": 0.03117,
        "close": null,
        "closeSource": "official",
        "closeTime": null,
        "companyName": "American Airlines Group, Inc.",
        "delayedPrice": null,
        "delayedPriceTime": null,
        "extendedChange": null,
        "extendedChangePercent": null,
        "extendedPrice": null,
        "extendedPriceTime": null,
        "high": null,
        "highSource": "15 minute delayed price",
        "highTime": 1595955363750,
        "iexAskPrice": 11.74,
        "iexAskSize": 100,
        "iexBidPrice": 11.67,
        "iexBidSize": 300,
        "iexClose": 11.745,
        "iexCloseTime": 1595956107433,
        "iexLastUpdated": 1595956107433,
        "iexMarketPercent": 0.004507874674995914,
        "iexOpen": null,
        "iexOpenTime": null,
        "iexRealtimePrice": 11.745,
        "iexRealtimeSize": 100,
        "iexVolume": 175928,
        "isUSMarketOpen": true,
        "lastTradeTime": 1595956107433,
        "latestPrice": 11.745,
        "latestSource": "IEX real time price",
        "latestTime": "1:08:27 PM",
        "latestUpdate": 1595956107433,
        "latestVolume": null,
        "low": null,
        "lowSource": "15 minute delayed price",
        "lowTime": 1595943002211,
        "marketCap": 5973048945,
        "oddLotDelayedPrice": null,
        "oddLotDelayedPriceTime": null,
        "open": null,
        "openSource": "official",
        "openTime": null,
        "peRatio": -1.44,
        "previousClose": 11.39,
        "previousVolume": 69451719,
        "primaryExchange": "NASDAQ",
        "symbol": "AAL",
        "volume": null,
        "week52High": 34.82,
        "week52Low": 8.25,
        "ytdChange": -0.57583,
      },
      {
        "avgTotalVolume": 77301397,
        "calculationPrice": "tops",
        "change": 0.215,
        "changePercent": 0.03204,
        "close": null,
        "closeSource": "official",
        "closeTime": null,
        "companyName": "General Electric Co.",
        "delayedPrice": null,
        "delayedPriceTime": null,
        "extendedChange": null,
        "extendedChangePercent": null,
        "extendedPrice": null,
        "extendedPriceTime": null,
        "high": null,
        "highSource": "IEX real time price",
        "highTime": 1595956026594,
        "iexAskPrice": 6.93,
        "iexAskSize": 100,
        "iexBidPrice": 6.92,
        "iexBidSize": 1100,
        "iexClose": 6.925,
        "iexCloseTime": 1595956262970,
        "iexLastUpdated": 1595956262970,
        "iexMarketPercent": 0.02465752898938671,
        "iexOpen": null,
        "iexOpenTime": null,
        "iexRealtimePrice": 6.925,
        "iexRealtimeSize": 3,
        "iexVolume": 899500,
        "isUSMarketOpen": true,
        "lastTradeTime": 1595956262970,
        "latestPrice": 6.925,
        "latestSource": "IEX real time price",
        "latestTime": "1:11:02 PM",
        "latestUpdate": 1595956262970,
        "latestVolume": null,
        "low": null,
        "lowSource": "15 minute delayed price",
        "lowTime": 1595943001265,
        "marketCap": 60573598250,
        "oddLotDelayedPrice": null,
        "oddLotDelayedPriceTime": null,
        "open": null,
        "openSource": "official",
        "openTime": null,
        "peRatio": 10.4,
        "previousClose": 6.71,
        "previousVolume": 70703977,
        "primaryExchange": "New York Stock Exchange",
        "symbol": "GE",
        "volume": null,
        "week52High": 13.26,
        "week52Low": 5.48,
        "ytdChange": -0.392939,
      },
      {
        "avgTotalVolume": 31520023,
        "calculationPrice": "tops",
        "change": 0.03,
        "changePercent": 0.00061,
        "close": null,
        "closeSource": "official",
        "closeTime": null,
        "companyName": "Intel Corp.",
        "delayedPrice": null,
        "delayedPriceTime": null,
        "extendedChange": null,
        "extendedChangePercent": null,
        "extendedPrice": null,
        "extendedPriceTime": null,
        "high": null,
        "highSource": "15 minute delayed price",
        "highTime": 1595955363834,
        "iexAskPrice": 49.61,
        "iexAskSize": 104,
        "iexBidPrice": 49.59,
        "iexBidSize": 200,
        "iexClose": 49.6,
        "iexCloseTime": 1595956254649,
        "iexLastUpdated": 1595956254649,
        "iexMarketPercent": 0.01993615009472425,
        "iexOpen": null,
        "iexOpenTime": null,
        "iexRealtimePrice": 49.6,
        "iexRealtimeSize": 100,
        "iexVolume": 694135,
        "isUSMarketOpen": true,
        "lastTradeTime": 1595956254649,
        "latestPrice": 49.6,
        "latestSource": "IEX real time price",
        "latestTime": "1:10:54 PM",
        "latestUpdate": 1595956254649,
        "latestVolume": null,
        "low": null,
        "lowSource": "15 minute delayed price",
        "lowTime": 1595943042317,
        "marketCap": 210006400000,
        "oddLotDelayedPrice": null,
        "oddLotDelayedPriceTime": null,
        "open": null,
        "openSource": "official",
        "openTime": null,
        "peRatio": 9.03,
        "previousClose": 49.57,
        "previousVolume": 107526547,
        "primaryExchange": "NASDAQ",
        "symbol": "INTC",
        "volume": null,
        "week52High": 69.29,
        "week52Low": 43.63,
        "ytdChange": -0.16786500000000001,
      },
      {
        "avgTotalVolume": 34041085,
        "calculationPrice": "tops",
        "change": 1.52,
        "changePercent": 0.04049,
        "close": null,
        "closeSource": "official",
        "closeTime": null,
        "companyName": "Pfizer Inc.",
        "delayedPrice": null,
        "delayedPriceTime": null,
        "extendedChange": null,
        "extendedChangePercent": null,
        "extendedPrice": null,
        "extendedPriceTime": null,
        "high": null,
        "highSource": "15 minute delayed price",
        "highTime": 1595955362873,
        "iexAskPrice": 39.5,
        "iexAskSize": 100,
        "iexBidPrice": 39.07,
        "iexBidSize": 100,
        "iexClose": 39.06,
        "iexCloseTime": 1595956252691,
        "iexLastUpdated": 1595956252691,
        "iexMarketPercent": 0.01828390169408048,
        "iexOpen": null,
        "iexOpenTime": null,
        "iexRealtimePrice": 39.06,
        "iexRealtimeSize": 100,
        "iexVolume": 613576,
        "isUSMarketOpen": true,
        "lastTradeTime": 1595956252691,
        "latestPrice": 39.06,
        "latestSource": "IEX real time price",
        "latestTime": "1:10:52 PM",
        "latestUpdate": 1595956252691,
        "latestVolume": null,
        "low": null,
        "lowSource": "15 minute delayed price",
        "lowTime": 1595944686266,
        "marketCap": 216971659800,
        "oddLotDelayedPrice": null,
        "oddLotDelayedPriceTime": null,
        "open": null,
        "openSource": "official",
        "openTime": null,
        "peRatio": 13.74,
        "previousClose": 37.54,
        "previousVolume": 26224224,
        "primaryExchange": "New York Stock Exchange",
        "symbol": "PFE",
        "volume": null,
        "week52High": 43.17,
        "week52Low": 27.88,
        "ytdChange": 0.002676999999999999,
      }
    ]
    